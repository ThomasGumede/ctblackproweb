{% extends '_dashboard.html' %}
{% load static %}

{% block content %}
<div class="grid grid-cols-12">
    <div class="col-span-12">
        <div class="card h-full p-0 rounded-xl border-0 overflow-hidden">
            <div
                class="card-header border-b border-neutral-200 dark:border-neutral-600 bg-white dark:bg-neutral-700 py-4 px-6 flex items-center flex-wrap gap-3 justify-between">
                <div class="flex items-center flex-wrap gap-3">

                    <form class="navbar-search">
                        {% csrf_token %}
                        <input type="text" class="bg-white dark:bg-neutral-700 h-10 w-auto" name="search"
                            placeholder="Search">
                        <iconify-icon icon="ion:search-outline" class="icon"></iconify-icon>
                    </form>
                    <select
                        class="form-select form-select-sm w-auto dark:bg-neutral-600 dark:text-white border-neutral-200 dark:border-neutral-500 rounded-lg">
                        <option>Status</option>
                        <option value="active">Open</option>
                        <option value="inactive">Completed</option>
                    </select>
                </div>
                {% if request.user.is_staff %}
                <a href="ct-admin/" class="btn btn-primary text-sm btn-sm px-3 py-3 rounded-lg flex items-center gap-2">
                    <iconify-icon icon="ic:baseline-plus" class="icon text-xl line-height-1"></iconify-icon>
                    Add Event
                </a>
                {% endif %}
            </div>
            <div class="card-body p-6">
                <div class="table-responsive scroll-sm">
                    <table class="table bordered-table sm-table mb-0">
                        <thead>
                            <tr>
                                <th scope="col">
                                    <div class="flex items-center gap-10">
                                        <div class="form-check style-check flex items-center">
                                            <input class="form-check-input rounded border input-form-dark"
                                                type="checkbox" name="checkbox" id="selectAll">
                                        </div>
                                        
                                    </div>
                                </th>
                                <th scope="col">Created</th>
                                <th scope="col">Title</th>
                                <th scope="col">Address</th>
                                <th scope="col">Date</th>
                                <th scope="col">Cost</th> 
                                <th scope="col" class="text-center">Status</th>
                                <th scope="col" class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for event in events %}
                            <tr>
                                <td>
                                    <div class="flex items-center gap-10">
                                        <div class="form-check style-check flex items-center">
                                            <input class="form-check-input rounded border border-neutral-400"
                                                type="checkbox" name="checkbox" id="SL-1">
                                        </div>
                                        
                                    </div>
                                </td>
                                <td>{{event.created|date:"d M Y"}}</td>
                                <td>
                                    <div class="flex items-center">
                                        <img src="{% if event.image %}{{event.image.url}}{% else %}{% static 'dashboard/images/user-grid/user-grid-img13.png' %}{% endif %}"
                                            alt="{{event.title}}"
                                            class="w-10 h-10 rounded-full shrink-0 me-2 overflow-hidden">
                                        <div class="grow">
                                            <span
                                                class="text-base mb-0 font-normal text-secondary-light">{{event.title|truncatechars:10}}</span>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="text-base mb-0 font-normal text-secondary-light">{{event.address|truncatechars:10}}</span>
                                </td>
                                <td>{{event.date_time_formatter}}</td>
                                <td>R{{event.cost}}</td> 
                                <td class="text-center">
                                    <span
                                        class="bg-success-100 dark:bg-success-600/25 text-success-600 dark:text-success-400 border border-success-600 px-6 py-1.5 rounded font-medium text-sm">{{event.status}}</span>
                                </td>
                                <td class="text-center">
                                    <div class="flex items-center gap-3 justify-center">
                                        <a href="{{event.get_absolute_url}}"
                                            class="bg-info-100 dark:bg-info-600/25 hover:bg-info-200 text-info-600 dark:text-info-400 font-medium w-10 h-10 flex justify-center items-center rounded-full">
                                            <iconify-icon icon="majesticons:eye-line"
                                                class="icon text-xl"></iconify-icon>
                                        </a>
                                        
                                        {% if request.user.is_staff %}
                                            
                                        <button type="button"
                                            class="bg-success-100 dark:bg-success-600/25 text-success-600 dark:text-success-400 bg-hover-success-200 font-medium w-10 h-10 flex justify-center items-center rounded-full">
                                            <iconify-icon icon="lucide:edit" class="menu-icon"></iconify-icon>
                                        </button>
                                        <a href=""
                                            class="remove-item-btn bg-danger-100 dark:bg-danger-600/25 hover:bg-danger-200 text-danger-600 dark:text-danger-500 font-medium w-10 h-10 flex justify-center items-center rounded-full">
                                            <iconify-icon icon="fluent:delete-24-regular"
                                                class="menu-icon"></iconify-icon>
                                        </a>
                                        {% endif %}
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% if events.count > 11 %}
                <div class="flex items-center justify-between flex-wrap gap-2 mt-6">
                    <span>Showing 1 to 10 of 12 entries</span>
                    <ul class="pagination flex flex-wrap items-center gap-2 justify-center">
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base"
                                href="javascript:void(0)"><iconify-icon icon="ep:d-arrow-left"
                                    class=""></iconify-icon></a>
                        </li>
                        <li class="page-item">
                            <a class="page-link text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base bg-primary-600 text-white"
                                href="javascript:void(0)">1</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8"
                                href="javascript:void(0)">2</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base"
                                href="javascript:void(0)">3</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base"
                                href="javascript:void(0)">4</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base"
                                href="javascript:void(0)">5</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link bg-neutral-300 dark:bg-neutral-600 text-secondary-light font-semibold rounded-lg border-0 flex items-center justify-center h-8 w-8 text-base"
                                href="javascript:void(0)"> <iconify-icon icon="ep:d-arrow-right"
                                    class=""></iconify-icon> </a>
                        </li>
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock content %}

{% block scripts %}

{% endblock scripts %}